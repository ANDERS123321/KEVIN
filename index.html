<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíñ Para ti üíñ</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            overflow: hidden;
            font-family: 'Poppins', sans-serif;
            background: #1a0a10;
            user-select: none;
        }

        /* ===================== PARTICLES / HEARTS CANVAS ===================== */
        #particles-canvas {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 0;
            pointer-events: none;
        }

        /* ===================== SCREEN 1 ===================== */
        .screen {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 1;
            transition: opacity 0.8s ease, transform 0.8s ease;
        }

        .screen.hidden {
            opacity: 0;
            pointer-events: none;
            transform: scale(1.1);
        }

        /* ---------- Screen 1 ---------- */
        #screen1 {
            background: radial-gradient(ellipse at center, #2d0a1e 0%, #1a0a10 70%);
            cursor: pointer;
        }

        .pulse-ring {
            position: absolute;
            width: 260px; height: 260px;
            border-radius: 50%;
            border: 2px solid rgba(255, 105, 135, 0.3);
            animation: pulseRing 2.5s ease-out infinite;
        }
        .pulse-ring:nth-child(2) { animation-delay: 0.8s; }
        .pulse-ring:nth-child(3) { animation-delay: 1.6s; }

        @keyframes pulseRing {
            0%   { transform: scale(0.8); opacity: 1; }
            100% { transform: scale(2.2); opacity: 0; }
        }

        .click-content {
            position: relative;
            z-index: 2;
            text-align: center;
        }

        .envelope {
            font-size: 80px;
            animation: floatEnvelope 3s ease-in-out infinite;
            filter: drop-shadow(0 0 25px rgba(255, 105, 135, 0.6));
            margin-bottom: 20px;
        }

        @keyframes floatEnvelope {
            0%, 100% { transform: translateY(0) rotate(-3deg); }
            50%      { transform: translateY(-18px) rotate(3deg); }
        }

        .click-text {
            font-family: 'Dancing Script', cursive;
            font-size: clamp(2rem, 6vw, 3.5rem);
            color: #ff6987;
            text-shadow: 0 0 30px rgba(255, 105, 135, 0.5), 0 0 60px rgba(255, 105, 135, 0.2);
            animation: glowText 2s ease-in-out infinite alternate;
        }

        .click-subtext {
            font-size: clamp(0.8rem, 2vw, 1rem);
            color: rgba(255, 182, 193, 0.6);
            margin-top: 10px;
            letter-spacing: 3px;
            text-transform: uppercase;
            animation: fadeInOut 2s ease-in-out infinite alternate;
        }

        @keyframes glowText {
            0%   { text-shadow: 0 0 20px rgba(255,105,135,0.4), 0 0 40px rgba(255,105,135,0.1); }
            100% { text-shadow: 0 0 40px rgba(255,105,135,0.8), 0 0 80px rgba(255,105,135,0.3); }
        }

        @keyframes fadeInOut {
            0%   { opacity: 0.4; }
            100% { opacity: 1; }
        }

        /* ===================== SCREEN 2 ===================== */
        #screen2 {
            background: radial-gradient(ellipse at 30% 20%, #3d1028 0%, #1a0a10 60%);
            overflow-y: auto;
            padding: 40px 20px;
        }

        .proposal-container {
            position: relative;
            z-index: 2;
            max-width: 600px;
            width: 100%;
            text-align: center;
        }

        /* Decorative top hearts */
        .deco-hearts {
            font-size: clamp(2rem, 5vw, 3rem);
            margin-bottom: 10px;
            animation: floatEnvelope 3s ease-in-out infinite;
        }

        .proposal-title {
            font-family: 'Dancing Script', cursive;
            font-size: clamp(2.2rem, 7vw, 4rem);
            color: #ff6987;
            line-height: 1.2;
            margin-bottom: 20px;
            text-shadow: 0 0 30px rgba(255,105,135,0.5);
            animation: fadeSlideUp 1s ease-out both;
        }

        .proposal-message {
            font-size: clamp(0.95rem, 2.5vw, 1.15rem);
            color: #f0c4d0;
            line-height: 1.8;
            margin-bottom: 35px;
            padding: 0 10px;
            animation: fadeSlideUp 1s ease-out 0.3s both;
        }

        .proposal-image {
            width: clamp(180px, 40vw, 280px);
            margin: 0 auto 30px;
            animation: fadeSlideUp 1s ease-out 0.3s both, floatImage 3s ease-in-out infinite;
            filter: drop-shadow(0 10px 30px rgba(255, 105, 135, 0.35));
            display: block;
            border-radius: 20px;
        }

        @keyframes floatImage {
            0%, 100% { transform: translateY(0); }
            50%      { transform: translateY(-12px); }
        }

        .proposal-question {
            font-family: 'Dancing Script', cursive;
            font-size: clamp(1.8rem, 5vw, 2.8rem);
            color: #ffb6c1;
            margin-bottom: 40px;
            text-shadow: 0 0 20px rgba(255,182,193,0.4);
            animation: fadeSlideUp 1s ease-out 0.6s both, heartbeat 1.5s ease-in-out infinite;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            15%      { transform: scale(1.05); }
            30%      { transform: scale(1); }
            45%      { transform: scale(1.08); }
            60%      { transform: scale(1); }
        }

        @keyframes fadeSlideUp {
            0%   { opacity: 0; transform: translateY(30px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        /* ---------- Buttons ---------- */
        .buttons-wrapper {
            display: flex;
            flex-wrap: wrap;
            gap: 18px;
            justify-content: center;
            animation: fadeSlideUp 1s ease-out 0.9s both;
        }

        .btn-yes {
            position: relative;
            padding: 16px 40px;
            font-family: 'Poppins', sans-serif;
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            font-weight: 600;
            color: #fff;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            z-index: 1;
        }

        .btn-yes::before {
            content: '';
            position: absolute;
            top: 0; left: -100%;
            width: 300%; height: 100%;
            background: linear-gradient(120deg, transparent, rgba(255,255,255,0.25), transparent);
            transition: left 0.5s ease;
            z-index: -1;
        }

        .btn-yes:hover::before {
            left: 100%;
        }

        .btn-yes:hover {
            transform: translateY(-4px) scale(1.05);
        }

        .btn-yes:active {
            transform: scale(0.97);
        }

        .btn-yes.primary {
            background: linear-gradient(135deg, #ff6b8a, #ff3d6e);
            box-shadow: 0 6px 25px rgba(255, 61, 110, 0.45);
            font-size: clamp(1.1rem, 3vw, 1.35rem);
            padding: 18px 50px;
        }
        .btn-yes.primary:hover {
            box-shadow: 0 8px 35px rgba(255, 61, 110, 0.65);
        }

        .btn-yes.secondary {
            background: linear-gradient(135deg, #e84393, #fd79a8);
            box-shadow: 0 6px 25px rgba(232, 67, 147, 0.35);
        }
        .btn-yes.secondary:hover {
            box-shadow: 0 8px 35px rgba(232, 67, 147, 0.55);
        }

        .btn-yes.tertiary {
            background: linear-gradient(135deg, #ff9ff3, #f368e0);
            box-shadow: 0 6px 25px rgba(243, 104, 224, 0.35);
        }
        .btn-yes.tertiary:hover {
            box-shadow: 0 8px 35px rgba(243, 104, 224, 0.55);
        }

        .btn-yes.quaternary {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            box-shadow: 0 6px 25px rgba(238, 90, 36, 0.35);
        }
        .btn-yes.quaternary:hover {
            box-shadow: 0 8px 35px rgba(238, 90, 36, 0.55);
        }

        .btn-tooltip {
            display: block;
            font-size: 0.7rem;
            font-weight: 300;
            opacity: 0.75;
            margin-top: 2px;
        }

        /* ===================== SCREEN 3 ‚Äî CELEBRATION ===================== */
        #screen3 {
            background: radial-gradient(ellipse at center, #3d1028 0%, #1a0a10 70%);
        }

        .celebration-container {
            position: relative;
            z-index: 2;
            text-align: center;
            padding: 20px;
        }

        .celebration-heart {
            font-size: clamp(4rem, 12vw, 7rem);
            animation: celebrateBounce 0.6s ease-out both, heartbeat 1.5s ease-in-out 0.6s infinite;
        }

        @keyframes celebrateBounce {
            0%   { transform: scale(0); opacity: 0; }
            60%  { transform: scale(1.3); }
            100% { transform: scale(1); opacity: 1; }
        }

        .celebration-title {
            font-family: 'Dancing Script', cursive;
            font-size: clamp(2.5rem, 8vw, 5rem);
            color: #ff6987;
            text-shadow: 0 0 40px rgba(255,105,135,0.6);
            margin: 20px 0 10px;
            animation: fadeSlideUp 0.8s ease-out 0.3s both;
        }

        .celebration-subtitle {
            font-size: clamp(1rem, 3vw, 1.3rem);
            color: #f0c4d0;
            line-height: 1.7;
            animation: fadeSlideUp 0.8s ease-out 0.6s both;
        }

        .celebration-emoji-rain {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            z-index: 10;
            overflow: hidden;
        }

        .falling-emoji {
            position: absolute;
            top: -60px;
            font-size: 28px;
            animation: emojifall linear forwards;
            opacity: 0.85;
        }

        @keyframes emojifall {
            0%   { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(110vh) rotate(720deg); opacity: 0; }
        }

        /* ===================== CONFETTI ===================== */
        .confetti-piece {
            position: fixed;
            width: 10px; height: 10px;
            top: -20px;
            z-index: 11;
            border-radius: 2px;
            animation: confettiFall linear forwards;
            pointer-events: none;
        }

        @keyframes confettiFall {
            0%   { transform: translateY(0) rotateZ(0deg) rotateX(0deg); opacity: 1; }
            100% { transform: translateY(110vh) rotateZ(720deg) rotateX(360deg); opacity: 0; }
        }

        /* ===================== RESPONSIVE ===================== */
        @media (max-width: 480px) {
            .envelope { font-size: 60px; }
            .btn-yes { padding: 14px 28px; }
            .btn-yes.primary { padding: 16px 38px; }
            .buttons-wrapper { gap: 12px; }
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: rgba(255,105,135,0.3); border-radius: 3px; }
    </style>
</head>
<body>

<canvas id="particles-canvas"></canvas>

<!-- ===== SCREEN 1 ‚Äî CLICK HERE ===== -->
<div class="screen" id="screen1" onclick="goToScreen2()">
    <div class="pulse-ring"></div>
    <div class="pulse-ring"></div>
    <div class="pulse-ring"></div>
    <div class="click-content">
        <div class="envelope">üíå</div>
        <div class="click-text">Tengo algo que decirte...</div>
        <div class="click-subtext">toca para abrir</div>
    </div>
</div>

<!-- ===== SCREEN 2 ‚Äî PROPOSAL ===== -->
<div class="screen hidden" id="screen2">
    <div class="proposal-container">
        <div class="deco-hearts">üíï‚ú®üíï</div>
        <h1 class="proposal-title">Cada momento contigo es m√°gico</h1>
        <img src="foto.png" alt="üíï" class="proposal-image">
        <h2 class="proposal-question">¬øVAS A SER MI ENAMORADA?</h2>
        <div class="buttons-wrapper">
            <button class="btn-yes primary" onclick="celebrate()">
                ¬°S√≠! üíñ
                <span class="btn-tooltip">La mejor decisi√≥n</span>
            </button>
            <button class="btn-yes secondary" onclick="celebrate()">
                ¬°S√≠, s√≠, s√≠! ü•∞
                <span class="btn-tooltip">Triple s√≠</span>
            </button>
            <button class="btn-yes tertiary" onclick="celebrate()">
                ¬°Obvio que s√≠! üòç
                <span class="btn-tooltip">Era obvio</span>
            </button>
            <button class="btn-yes quaternary" onclick="celebrate()">
                ¬°Claro que s√≠, mi amor! üíò
                <span class="btn-tooltip">Con todo mi coraz√≥n</span>
            </button>
        </div>
    </div>
</div>

<!-- ===== SCREEN 3 ‚Äî CELEBRATION ===== -->
<div class="screen hidden" id="screen3">
    <div class="celebration-container">
        <div class="celebration-heart">üíñ</div>
        <h1 class="celebration-title">¬°Sab√≠a que dir√≠as que s√≠!</h1>
        <p class="celebration-subtitle">
            Este es el comienzo de algo hermoso juntos. üåπ<br>
            Prometo hacerte sonre√≠r cada d√≠a. ‚ú®<br><br>
            Te quiero much√≠simo üíï
        </p>
    </div>
    <div class="celebration-emoji-rain" id="emojiRain"></div>
</div>

<script>
    /* ============================================================
       FLOATING HEARTS / PARTICLES ‚Äî Canvas
       ============================================================ */
    const canvas = document.getElementById('particles-canvas');
    const ctx = canvas.getContext('2d');
    let particles = [];
    const HEART_COLORS = ['#ff6987','#ff3d6e','#fd79a8','#e84393','#ff9ff3','#f368e0','#ffb6c1'];

    function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    function createParticle() {
        return {
            x: Math.random() * canvas.width,
            y: canvas.height + 20,
            size: Math.random() * 14 + 6,
            speedY: Math.random() * 1.2 + 0.4,
            speedX: (Math.random() - 0.5) * 0.6,
            opacity: Math.random() * 0.5 + 0.2,
            color: HEART_COLORS[Math.floor(Math.random() * HEART_COLORS.length)],
            wobble: Math.random() * Math.PI * 2,
            wobbleSpeed: Math.random() * 0.03 + 0.01
        };
    }

    for (let i = 0; i < 35; i++) {
        const p = createParticle();
        p.y = Math.random() * canvas.height;
        particles.push(p);
    }

    function drawHeart(x, y, size, color, opacity) {
        ctx.save();
        ctx.globalAlpha = opacity;
        ctx.fillStyle = color;
        ctx.beginPath();
        const s = size / 2;
        ctx.moveTo(x, y + s * 0.3);
        ctx.bezierCurveTo(x, y - s * 0.5, x - s, y - s * 0.5, x - s, y + s * 0.1);
        ctx.bezierCurveTo(x - s, y + s * 0.6, x, y + s, x, y + s * 1.2);
        ctx.bezierCurveTo(x, y + s, x + s, y + s * 0.6, x + s, y + s * 0.1);
        ctx.bezierCurveTo(x + s, y - s * 0.5, x, y - s * 0.5, x, y + s * 0.3);
        ctx.closePath();
        ctx.fill();
        ctx.restore();
    }

    function animateParticles() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        particles.forEach((p, i) => {
            p.wobble += p.wobbleSpeed;
            p.x += p.speedX + Math.sin(p.wobble) * 0.5;
            p.y -= p.speedY;
            if (p.y < -30) {
                particles[i] = createParticle();
            }
            drawHeart(p.x, p.y, p.size, p.color, p.opacity);
        });
        requestAnimationFrame(animateParticles);
    }
    animateParticles();

    /* ============================================================
       SCREEN TRANSITIONS
       ============================================================ */
    function goToScreen2() {
        document.getElementById('screen1').classList.add('hidden');
        setTimeout(() => {
            document.getElementById('screen2').classList.remove('hidden');
        }, 400);
    }

    /* ============================================================
       CELEBRATION
       ============================================================ */
    let celebrated = false;

    function celebrate() {
        if (celebrated) return;
        celebrated = true;

        document.getElementById('screen2').classList.add('hidden');
        setTimeout(() => {
            document.getElementById('screen3').classList.remove('hidden');
            launchEmojiRain();
            launchConfetti();
        }, 400);
    }

    /* Emoji rain */
    function launchEmojiRain() {
        const container = document.getElementById('emojiRain');
        const emojis = ['üíñ','üíï','üíó','üíò','üåπ','‚ú®','üíù','ü•∞','üòç','‚ù§Ô∏è','üíû','ü´∂'];
        let count = 0;
        const interval = setInterval(() => {
            if (count > 60) { clearInterval(interval); return; }
            const el = document.createElement('span');
            el.className = 'falling-emoji';
            el.textContent = emojis[Math.floor(Math.random() * emojis.length)];
            el.style.left = Math.random() * 100 + '%';
            el.style.fontSize = (Math.random() * 20 + 16) + 'px';
            el.style.animationDuration = (Math.random() * 3 + 2.5) + 's';
            el.style.animationDelay = '0s';
            container.appendChild(el);
            el.addEventListener('animationend', () => el.remove());
            count++;
        }, 120);
    }

    /* Confetti */
    function launchConfetti() {
        const colors = ['#ff6987','#ff3d6e','#fd79a8','#e84393','#ff9ff3','#ffb6c1','#fff','#ffd1dc'];
        for (let i = 0; i < 100; i++) {
            setTimeout(() => {
                const c = document.createElement('div');
                c.className = 'confetti-piece';
                c.style.left = Math.random() * 100 + '%';
                c.style.background = colors[Math.floor(Math.random() * colors.length)];
                c.style.width = (Math.random() * 8 + 5) + 'px';
                c.style.height = (Math.random() * 12 + 5) + 'px';
                c.style.borderRadius = Math.random() > 0.5 ? '50%' : '2px';
                c.style.animationDuration = (Math.random() * 3 + 2) + 's';
                document.body.appendChild(c);
                c.addEventListener('animationend', () => c.remove());
            }, i * 40);
        }
    }
</script>

</body>
</html>
